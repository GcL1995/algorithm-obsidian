#### [992. K 个不同整数的子数组](https://leetcode.cn/problems/subarrays-with-k-different-integers/)
#双指针 #LC2200 
~~~c++
/*
i. 固定左端点，计算恰好k个不同数，k + 1个不同数
ii. 具有单调性，使用双指针算法
*/
const int N = 20010; 
int cnt1[N], cnt2[N];

class Solution {
public:
    int subarraysWithKDistinct(vector<int>& w, int K) {
        int res1 = 0, res2 = 0; 
        int n = w.size(); 
        memset(cnt1, 0, sizeof cnt1);
        memset(cnt2, 0, sizeof cnt2); 

        int ans = 0;
        cnt1[w[0]] ++, cnt2[w[0]] ++, res1 = 1, res2 = 1;
        for (int i = 0, j = 0, k = 0; i < n; i ++ ) {
            while (j + 1 < n && res1 < K) {
                j ++;
                cnt1[w[j]] ++;
                if (cnt1[w[j]] == 1) res1 ++;
            }

            while (k + 1 < n && res2 < K + 1) {
                k ++;
                cnt2[w[k]] ++;
                if (cnt2[w[k]] == 1) res2 ++;
            }

            if (res1 == K) {
                if (res2 == K + 1) ans += k - j;
                else ans += k - j + 1; 
            }

            cnt1[w[i]] --, cnt2[w[i]] --;
            if (cnt1[w[i]] == 0) res1 --;
            if (cnt2[w[i]] == 0) res2 --;
        }
        return ans; 
    }
};
~~~